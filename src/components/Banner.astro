---
import { Image } from "astro:assets";
import type { Banner } from "../apis/side-banner";
import { getWidthHeight } from "../utils/image-sizing";
export interface Props {
  banner: Banner;
}

const { banner } = Astro.props;
const { href, externalLink, image, alt } = banner;
---

{
  href ? (
    <a class="banner-link" href={href} target={externalLink ? "_blank" : null}>
      <div class="img-container">
        <Image
          class="banner-img"
          src={image.url}
          alt={alt}
          format="webp"
          quality="mid"
          {...getWidthHeight({
            src: image,
            maxWidth: 600,
          })}
        />
      </div>
    </a>
  ) : (
    <div class="img-container">
      <Image
        class="banner-img"
        src={image.url}
        alt={alt}
        format="webp"
        quality="mid"
        {...getWidthHeight({
          src: image,
          maxWidth: 600,
        })}
      />
    </div>
  )
}

<style>
  .banner-link {
    display: block;
    cursor: pointer;
  }

  .img-container {
    display: inline-block;
    width: 100%;
    overflow: hidden;
    border-radius: 16px;
  }

  .banner-img {
    display: block;
    width: 100%;
    height: auto;
    transition: transform 0.3s;
  }

  .banner-link:hover .banner-img {
    transform: scale(1.05);
  }

  .banner-link:active .banner-img {
    transform: scale(0.95);
  }
</style>
